<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>C Appendix - motus - Summary and plotting functions | Motus R Book</title>
  <meta name="description" content="C Appendix - motus - Summary and plotting functions | Motus R Book" />
  <meta name="generator" content="bookdown 0.20.3 and GitBook 2.6.7" />

  <meta property="og:title" content="C Appendix - motus - Summary and plotting functions | Motus R Book" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="BSC_Motus_Logo.png" />
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="C Appendix - motus - Summary and plotting functions | Motus R Book" />
  
  
  <meta name="twitter:image" content="BSC_Motus_Logo.png" />

<meta name="author" content="Tara L. Crewe, Zoe Crysler, and Philip Taylor" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="appendixB.html"/>
<link rel="next" href="appendixD.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12387576-13', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="https://beta.motus.org/MotusRBook">R for Motus</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>A walk through the use of R for Motus automated radio-telemetry data</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#whatBookCovers"><i class="fa fa-check"></i><b>1.1</b> What this book does not cover</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.2</b> Prerequisites</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#sampleData"><i class="fa fa-check"></i><b>1.3</b> Sample datasets</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#acknowledgements"><i class="fa fa-check"></i><b>1.4</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="loadingPackages.html"><a href="loadingPackages.html"><i class="fa fa-check"></i><b>2</b> Loading R Packages</a><ul>
<li class="chapter" data-level="2.1" data-path="loadingPackages.html"><a href="loadingPackages.html#installing-motus-packages"><i class="fa fa-check"></i><b>2.1</b> Installing Motus packages</a><ul>
<li class="chapter" data-level="2.1.1" data-path="loadingPackages.html"><a href="loadingPackages.html#troubleshooting-the-installation"><i class="fa fa-check"></i><b>2.1.1</b> Troubleshooting the installation</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="loadingPackages.html"><a href="loadingPackages.html#installing-other-packages"><i class="fa fa-check"></i><b>2.2</b> Installing other packages</a></li>
<li class="chapter" data-level="2.3" data-path="loadingPackages.html"><a href="loadingPackages.html#internalProcessing"><i class="fa fa-check"></i><b>2.3</b> Internal data processing</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="accessingData.html"><a href="accessingData.html"><i class="fa fa-check"></i><b>3</b> Accessing and understanding detections data</a><ul>
<li class="chapter" data-level="3.1" data-path="accessingData.html"><a href="accessingData.html#databaseStructure"><i class="fa fa-check"></i><b>3.1</b> Data structure</a></li>
<li class="chapter" data-level="3.2" data-path="accessingData.html"><a href="accessingData.html#databaseTypes"><i class="fa fa-check"></i><b>3.2</b> Database types</a></li>
<li class="chapter" data-level="3.3" data-path="accessingData.html"><a href="accessingData.html#loadPackages"><i class="fa fa-check"></i><b>3.3</b> Load relevant R packages</a></li>
<li class="chapter" data-level="3.4" data-path="accessingData.html"><a href="accessingData.html#set-system-environment"><i class="fa fa-check"></i><b>3.4</b> Set system environment</a></li>
<li class="chapter" data-level="3.5" data-path="accessingData.html"><a href="accessingData.html#importDetections"><i class="fa fa-check"></i><b>3.5</b> Downloading tag detections</a><ul>
<li class="chapter" data-level="3.5.1" data-path="accessingData.html"><a href="accessingData.html#downloadData"><i class="fa fa-check"></i><b>3.5.1</b> Download data for a project for the <em>first time</em></a></li>
<li class="chapter" data-level="3.5.2" data-path="accessingData.html"><a href="accessingData.html#userAuthentication"><i class="fa fa-check"></i><b>3.5.2</b> User Authentication</a></li>
<li class="chapter" data-level="3.5.3" data-path="accessingData.html"><a href="accessingData.html#download-data-for-a-receiver-for-the-first-time"><i class="fa fa-check"></i><b>3.5.3</b> Download data for a receiver for the <em>first time</em></a></li>
<li class="chapter" data-level="3.5.4" data-path="accessingData.html"><a href="accessingData.html#downloading-multiple-receivers-at-the-same-time"><i class="fa fa-check"></i><b>3.5.4</b> Downloading multiple receivers at the same time</a></li>
<li class="chapter" data-level="3.5.5" data-path="accessingData.html"><a href="accessingData.html#updating-all-.motus-files-within-a-directory"><i class="fa fa-check"></i><b>3.5.5</b> Updating all .motus files within a directory</a></li>
<li class="chapter" data-level="3.5.6" data-path="accessingData.html"><a href="accessingData.html#accessSQL"><i class="fa fa-check"></i><b>3.5.6</b> Accessing downloaded detection data</a></li>
<li class="chapter" data-level="3.5.7" data-path="accessingData.html"><a href="accessingData.html#addGPS"><i class="fa fa-check"></i><b>3.5.7</b> Adding GPS Data</a></li>
<li class="chapter" data-level="3.5.8" data-path="accessingData.html"><a href="accessingData.html#convertToFlat"><i class="fa fa-check"></i><b>3.5.8</b> Converting to flat file</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="accessingData.html"><a href="accessingData.html#exportDetections"><i class="fa fa-check"></i><b>3.6</b> Export your ‘flat’ dataframe to CSV or RDS file</a></li>
<li class="chapter" data-level="3.7" data-path="accessingData.html"><a href="accessingData.html#tagmeUpdate"><i class="fa fa-check"></i><b>3.7</b> Update and/or open an existing database</a></li>
<li class="chapter" data-level="3.8" data-path="accessingData.html"><a href="accessingData.html#tellme"><i class="fa fa-check"></i><b>3.8</b> Check if new data are available</a></li>
<li class="chapter" data-level="3.9" data-path="accessingData.html"><a href="accessingData.html#forceMeta"><i class="fa fa-check"></i><b>3.9</b> Force an update/re-import of tag and receiver deployment metadata</a></li>
<li class="chapter" data-level="3.10" data-path="accessingData.html"><a href="accessingData.html#metadata"><i class="fa fa-check"></i><b>3.10</b> Import full tag and receiver metadata</a></li>
<li class="chapter" data-level="3.11" data-path="accessingData.html"><a href="accessingData.html#checkVersion"><i class="fa fa-check"></i><b>3.11</b> Ensure that you have the correct database version</a></li>
<li class="chapter" data-level="3.12" data-path="accessingData.html"><a href="accessingData.html#r-object-naming-convention"><i class="fa fa-check"></i><b>3.12</b> R object naming convention</a></li>
<li class="chapter" data-level="3.13" data-path="accessingData.html"><a href="accessingData.html#importSummary"><i class="fa fa-check"></i><b>3.13</b> Summary: download, access, and export data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="deployments.html"><a href="deployments.html"><i class="fa fa-check"></i><b>4</b> Tag and Receiver Deployments</a><ul>
<li class="chapter" data-level="4.1" data-path="deployments.html"><a href="deployments.html#load-relevant-r-packages-and-set-working-environment"><i class="fa fa-check"></i><b>4.1</b> Load relevant R packages and set working environment</a></li>
<li class="chapter" data-level="4.2" data-path="deployments.html"><a href="deployments.html#load-.motus-file"><i class="fa fa-check"></i><b>4.2</b> Load .motus file</a></li>
<li class="chapter" data-level="4.3" data-path="deployments.html"><a href="deployments.html#tagDeployments"><i class="fa fa-check"></i><b>4.3</b> Tag Deployments</a><ul>
<li class="chapter" data-level="4.3.1" data-path="deployments.html"><a href="deployments.html#download-full-project-tag-metadata"><i class="fa fa-check"></i><b>4.3.1</b> Download full project tag metadata</a></li>
<li class="chapter" data-level="4.3.2" data-path="deployments.html"><a href="deployments.html#number-of-registered-tags"><i class="fa fa-check"></i><b>4.3.2</b> Number of registered tags</a></li>
<li class="chapter" data-level="4.3.3" data-path="deployments.html"><a href="deployments.html#number-of-registered-tags-that-were-deployed"><i class="fa fa-check"></i><b>4.3.3</b> Number of registered tags that were deployed</a></li>
<li class="chapter" data-level="4.3.4" data-path="deployments.html"><a href="deployments.html#checkNumberTagDeployments"><i class="fa fa-check"></i><b>4.3.4</b> Number of deployments per tag</a></li>
<li class="chapter" data-level="4.3.5" data-path="deployments.html"><a href="deployments.html#location-of-tag-deployments"><i class="fa fa-check"></i><b>4.3.5</b> Location of tag deployments</a></li>
<li class="chapter" data-level="4.3.6" data-path="deployments.html"><a href="deployments.html#check-completeness-and-accuracy-of-tag-deployment-metadata"><i class="fa fa-check"></i><b>4.3.6</b> Check completeness and accuracy of tag deployment metadata</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="deployments.html"><a href="deployments.html#recvMetadata"><i class="fa fa-check"></i><b>4.4</b> Check Receiver Metadata</a><ul>
<li class="chapter" data-level="4.4.1" data-path="deployments.html"><a href="deployments.html#download-full-receiver-metadata"><i class="fa fa-check"></i><b>4.4.1</b> Download full receiver metadata</a></li>
<li class="chapter" data-level="4.4.2" data-path="deployments.html"><a href="deployments.html#number-of-project-receiver-deployments"><i class="fa fa-check"></i><b>4.4.2</b> Number of project receiver deployments</a></li>
<li class="chapter" data-level="4.4.3" data-path="deployments.html"><a href="deployments.html#timing-of-project-receiver-deployments"><i class="fa fa-check"></i><b>4.4.3</b> Timing of project receiver deployments</a></li>
<li class="chapter" data-level="4.4.4" data-path="deployments.html"><a href="deployments.html#location-of-receiver-deployments"><i class="fa fa-check"></i><b>4.4.4</b> Location of receiver deployments</a></li>
<li class="chapter" data-level="4.4.5" data-path="deployments.html"><a href="deployments.html#completeness-and-accuracy-of-receiver-metadata"><i class="fa fa-check"></i><b>4.4.5</b> Completeness and accuracy of receiver metadata</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dataCleaning.html"><a href="dataCleaning.html"><i class="fa fa-check"></i><b>5</b> Data Cleaning</a><ul>
<li class="chapter" data-level="5.1" data-path="dataCleaning.html"><a href="dataCleaning.html#loadDetectionsCleaning"><i class="fa fa-check"></i><b>5.1</b> Load required packages</a></li>
<li class="chapter" data-level="5.2" data-path="dataCleaning.html"><a href="dataCleaning.html#load-detections-data"><i class="fa fa-check"></i><b>5.2</b> Load detections data</a></li>
<li class="chapter" data-level="5.3" data-path="dataCleaning.html"><a href="dataCleaning.html#assessTagDetections"><i class="fa fa-check"></i><b>5.3</b> Assess tag detections</a></li>
<li class="chapter" data-level="5.4" data-path="dataCleaning.html"><a href="dataCleaning.html#preliminary-filtering"><i class="fa fa-check"></i><b>5.4</b> Preliminary filtering</a><ul>
<li class="chapter" data-level="5.4.1" data-path="dataCleaning.html"><a href="dataCleaning.html#understanding-the-motusfilter"><i class="fa fa-check"></i><b>5.4.1</b> Understanding the <code>motusFilter</code></a></li>
<li class="chapter" data-level="5.4.2" data-path="dataCleaning.html"><a href="dataCleaning.html#how-the-motusfilter-is-generated"><i class="fa fa-check"></i><b>5.4.2</b> How the <code>motusFilter</code> is generated</a></li>
<li class="chapter" data-level="5.4.3" data-path="dataCleaning.html"><a href="dataCleaning.html#custom-filters-with-the-filterbyactivity-function"><i class="fa fa-check"></i><b>5.4.3</b> Custom filters with the <code>filterByActivity()</code> function</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="dataCleaning.html"><a href="dataCleaning.html#preparing-the-data"><i class="fa fa-check"></i><b>5.5</b> Preparing the data</a><ul>
<li class="chapter" data-level="5.5.1" data-path="dataCleaning.html"><a href="dataCleaning.html#label-detections-by-probability"><i class="fa fa-check"></i><b>5.5.1</b> Label detections by probability</a></li>
<li class="chapter" data-level="5.5.2" data-path="dataCleaning.html"><a href="dataCleaning.html#clean-up"><i class="fa fa-check"></i><b>5.5.2</b> Clean up</a></li>
<li class="chapter" data-level="5.5.3" data-path="dataCleaning.html"><a href="dataCleaning.html#add-gps-data"><i class="fa fa-check"></i><b>5.5.3</b> Add GPS data</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="dataCleaning.html"><a href="dataCleaning.html#preliminary-data-checks"><i class="fa fa-check"></i><b>5.6</b> Preliminary data checks</a><ul>
<li class="chapter" data-level="5.6.1" data-path="dataCleaning.html"><a href="dataCleaning.html#summarize-tag-detections"><i class="fa fa-check"></i><b>5.6.1</b> Summarize tag detections</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="dataCleaning.html"><a href="dataCleaning.html#ambigs"><i class="fa fa-check"></i><b>5.7</b> Examining ambiguous detections</a></li>
<li class="chapter" data-level="5.8" data-path="dataCleaning.html"><a href="dataCleaning.html#checking-validity-of-run-lengths-of-2-or-3"><i class="fa fa-check"></i><b>5.8</b> Checking validity of run lengths of 2 or 3</a></li>
<li class="chapter" data-level="5.9" data-path="dataCleaning.html"><a href="dataCleaning.html#filtering-the-data"><i class="fa fa-check"></i><b>5.9</b> Filtering the data</a><ul>
<li class="chapter" data-level="5.9.1" data-path="dataCleaning.html"><a href="dataCleaning.html#filter-and-save-to-rds"><i class="fa fa-check"></i><b>5.9.1</b> Filter and save to RDS</a></li>
<li class="chapter" data-level="5.9.2" data-path="dataCleaning.html"><a href="dataCleaning.html#saveFilter"><i class="fa fa-check"></i><b>5.9.2</b> Save a custom filter in the motus database, and apply it to the data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="exploreData.html"><a href="exploreData.html"><i class="fa fa-check"></i><b>6</b> Exploring data with the Motus R package</a><ul>
<li class="chapter" data-level="6.1" data-path="exploreData.html"><a href="exploreData.html#load-required-packages"><i class="fa fa-check"></i><b>6.1</b> Load required packages</a></li>
<li class="chapter" data-level="6.2" data-path="exploreData.html"><a href="exploreData.html#load-data"><i class="fa fa-check"></i><b>6.2</b> Load data</a></li>
<li class="chapter" data-level="6.3" data-path="exploreData.html"><a href="exploreData.html#dataSummaries"><i class="fa fa-check"></i><b>6.3</b> Summarizing your data</a></li>
<li class="chapter" data-level="6.4" data-path="exploreData.html"><a href="exploreData.html#dataPlotting"><i class="fa fa-check"></i><b>6.4</b> Plotting your data</a></li>
<li class="chapter" data-level="6.5" data-path="exploreData.html"><a href="exploreData.html#mappingData"><i class="fa fa-check"></i><b>6.5</b> Mapping your data</a><ul>
<li class="chapter" data-level="6.5.1" data-path="exploreData.html"><a href="exploreData.html#ggmaps"><i class="fa fa-check"></i><b>6.5.1</b> Mapping with the <code>ggmap</code> package</a></li>
<li class="chapter" data-level="6.5.2" data-path="exploreData.html"><a href="exploreData.html#outlineMaps"><i class="fa fa-check"></i><b>6.5.2</b> Creating simple outline maps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="vanishingBearings.html"><a href="vanishingBearings.html"><i class="fa fa-check"></i><b>7</b> Vanishing bearings</a><ul>
<li class="chapter" data-level="7.1" data-path="vanishingBearings.html"><a href="vanishingBearings.html#thingsToBeAwareOf"><i class="fa fa-check"></i><b>7.1</b> Things to be aware of</a></li>
<li class="chapter" data-level="7.2" data-path="vanishingBearings.html"><a href="vanishingBearings.html#estimateBearings"><i class="fa fa-check"></i><b>7.2</b> Estimate vanishing bearings: step-by-step</a><ul>
<li class="chapter" data-level="7.2.1" data-path="vanishingBearings.html"><a href="vanishingBearings.html#loadPackages7"><i class="fa fa-check"></i><b>7.2.1</b> Load the required packages</a></li>
<li class="chapter" data-level="7.2.2" data-path="vanishingBearings.html"><a href="vanishingBearings.html#vanishingSample"><i class="fa fa-check"></i><b>7.2.2</b> Load the sample data</a></li>
<li class="chapter" data-level="7.2.3" data-path="vanishingBearings.html"><a href="vanishingBearings.html#select-individuals-that-show-clear-departure-detections"><i class="fa fa-check"></i><b>7.2.3</b> Select individuals that show clear departure detections</a></li>
<li class="chapter" data-level="7.2.4" data-path="vanishingBearings.html"><a href="vanishingBearings.html#obtain-departure-times"><i class="fa fa-check"></i><b>7.2.4</b> Obtain departure times</a></li>
<li class="chapter" data-level="7.2.5" data-path="vanishingBearings.html"><a href="vanishingBearings.html#calculate-vanishing-bearings-for-individuals-with-departure-times."><i class="fa fa-check"></i><b>7.2.5</b> Calculate vanishing bearings for individuals with departure times.</a></li>
<li class="chapter" data-level="7.2.6" data-path="vanishingBearings.html"><a href="vanishingBearings.html#plot-the-vanishing-bearings-on-a-map"><i class="fa fa-check"></i><b>7.2.6</b> Plot the vanishing bearings on a map</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="vanishingBearings.html"><a href="vanishingBearings.html#vanishingLitCited"><i class="fa fa-check"></i><b>7.3</b> Literature Cited</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="advancedModelling.html"><a href="advancedModelling.html"><i class="fa fa-check"></i><b>8</b> Advanced modelling and analysis</a></li>
<li class="chapter" data-level="9" data-path="falsePositives.html"><a href="falsePositives.html"><i class="fa fa-check"></i><b>9</b> A tool to identify probable false positive detections</a><ul>
<li class="chapter" data-level="9.1" data-path="falsePositives.html"><a href="falsePositives.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="falsePositives.html"><a href="falsePositives.html#step-1-classification-of-detections"><i class="fa fa-check"></i><b>9.2</b> Step 1 – Classification of detections</a></li>
<li class="chapter" data-level="9.3" data-path="falsePositives.html"><a href="falsePositives.html#step-2-identification-of-potential-diagnostic-parameters"><i class="fa fa-check"></i><b>9.3</b> Step 2 – Identification of potential diagnostic parameters</a></li>
<li class="chapter" data-level="9.4" data-path="falsePositives.html"><a href="falsePositives.html#step-3-prediction-of-the-probability-of-being-a-false-positive"><i class="fa fa-check"></i><b>9.4</b> Step 3 – Prediction of the probability of being a false positive</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendixA.html"><a href="appendixA.html"><i class="fa fa-check"></i><b>A</b> Appendix - <code>alltags</code> and <code>alltagsGPS</code> structure</a></li>
<li class="chapter" data-level="B" data-path="appendixB.html"><a href="appendixB.html"><i class="fa fa-check"></i><b>B</b> Appendix - Troubleshooting</a><ul>
<li class="chapter" data-level="B.1" data-path="appendixB.html"><a href="appendixB.html#general-problems"><i class="fa fa-check"></i><b>B.1</b> General Problems</a></li>
<li class="chapter" data-level="B.2" data-path="appendixB.html"><a href="appendixB.html#motusLogout"><i class="fa fa-check"></i><b>B.2</b> Logging out of motus</a></li>
<li class="chapter" data-level="B.3" data-path="appendixB.html"><a href="appendixB.html#resumeDownload"><i class="fa fa-check"></i><b>B.3</b> Resume data download</a></li>
<li class="chapter" data-level="B.4" data-path="appendixB.html"><a href="appendixB.html#googleMapsKey"><i class="fa fa-check"></i><b>B.4</b> Google Maps</a></li>
<li class="chapter" data-level="B.5" data-path="appendixB.html"><a href="appendixB.html#common-problems-and-solutions"><i class="fa fa-check"></i><b>B.5</b> Common problems and solutions:</a><ul>
<li class="chapter" data-level="B.5.1" data-path="appendixB.html"><a href="appendixB.html#i-cannot-access-project-176-i-download-0-records-from-project-176"><i class="fa fa-check"></i><b>B.5.1</b> I cannot access Project 176 / I download 0 records from Project 176</a></li>
<li class="chapter" data-level="B.5.2" data-path="appendixB.html"><a href="appendixB.html#i-get-the-message-auto-disconnecting-sqliteconnection-one-or-multiple-times-after-using-tagme"><i class="fa fa-check"></i><b>B.5.2</b> I get the message “Auto-disconnecting SQLiteConnection” one or multiple times after using tagme()</a></li>
<li class="chapter" data-level="B.5.3" data-path="appendixB.html"><a href="appendixB.html#i-get-an-internal-server-error-message-when-using-tagme-update-true"><i class="fa fa-check"></i><b>B.5.3</b> I get an “Internal Server Error” message when using tagme(…, update = TRUE)</a></li>
<li class="chapter" data-level="B.5.4" data-path="appendixB.html"><a href="appendixB.html#i-get-an-error-forbidden-message-when-using-tagme"><i class="fa fa-check"></i><b>B.5.4</b> I get an “Error: Forbidden” message when using tagme()</a></li>
<li class="chapter" data-level="B.5.5" data-path="appendixB.html"><a href="appendixB.html#i-get-an-error-object-xxxx-not-found-referring-to-a-table-or-field-name-or-some-of-your-examples-in-the-book-do-not-work."><i class="fa fa-check"></i><b>B.5.5</b> I get an error “Object ‘xxxx’ not found”, referring to a table or field name, or some of your examples in the book do not work.</a></li>
<li class="chapter" data-level="B.5.6" data-path="appendixB.html"><a href="appendixB.html#i-get-an-error-error-in-rsqlite_connectdbname-loadable.extensions-flags-vfs-could-not-connect-to-database-unable-to-open-database-file-when-attempting-to-run-tagme"><i class="fa fa-check"></i><b>B.5.6</b> I get an error <code>Error in rsqlite_connect(dbname, loadable.extensions, flags, vfs) : Could not connect to database: unable to open database file</code> when attempting to run <code>tagme()</code></a></li>
<li class="chapter" data-level="B.5.7" data-path="appendixB.html"><a href="appendixB.html#i-see-gps-coordinates-of-0-or-999"><i class="fa fa-check"></i><b>B.5.7</b> I see GPS coordinates of “0” or “999”</a></li>
<li class="chapter" data-level="B.5.8" data-path="appendixB.html"><a href="appendixB.html#i-see-port-with-a-value-of--1"><i class="fa fa-check"></i><b>B.5.8</b> I see port with a value of -1</a></li>
<li class="chapter" data-level="B.5.9" data-path="appendixB.html"><a href="appendixB.html#i-get-the-error-error-in-rsqlite_fetchresptr-n-n-database-disk-image-is-malformed"><i class="fa fa-check"></i><b>B.5.9</b> I get the error <code>Error in rsqlite_fetch(res@ptr, n = n) : database disk image is malformed</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="appendixC.html"><a href="appendixC.html"><i class="fa fa-check"></i><b>C</b> Appendix - <code>motus</code> - Summary and plotting functions</a><ul>
<li class="chapter" data-level="C.1" data-path="appendixC.html"><a href="appendixC.html#checkVersionB"><i class="fa fa-check"></i><b>C.1</b> <code>checkVersion</code></a><ul>
<li class="chapter" data-level="C.1.1" data-path="appendixC.html"><a href="appendixC.html#description"><i class="fa fa-check"></i><b>C.1.1</b> Description</a></li>
<li class="chapter" data-level="C.1.2" data-path="appendixC.html"><a href="appendixC.html#arguments"><i class="fa fa-check"></i><b>C.1.2</b> Arguments</a></li>
<li class="chapter" data-level="C.1.3" data-path="appendixC.html"><a href="appendixC.html#example"><i class="fa fa-check"></i><b>C.1.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.2" data-path="appendixC.html"><a href="appendixC.html#sunRiseSet"><i class="fa fa-check"></i><b>C.2</b> <code>sunRiseSet</code></a><ul>
<li class="chapter" data-level="C.2.1" data-path="appendixC.html"><a href="appendixC.html#description-1"><i class="fa fa-check"></i><b>C.2.1</b> Description</a></li>
<li class="chapter" data-level="C.2.2" data-path="appendixC.html"><a href="appendixC.html#arguments-1"><i class="fa fa-check"></i><b>C.2.2</b> Arguments</a></li>
<li class="chapter" data-level="C.2.3" data-path="appendixC.html"><a href="appendixC.html#example-1"><i class="fa fa-check"></i><b>C.2.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.3" data-path="appendixC.html"><a href="appendixC.html#plotAllTagsCoord"><i class="fa fa-check"></i><b>C.3</b> <code>plotAllTagsCoord</code></a><ul>
<li class="chapter" data-level="C.3.1" data-path="appendixC.html"><a href="appendixC.html#description-2"><i class="fa fa-check"></i><b>C.3.1</b> Description</a></li>
<li class="chapter" data-level="C.3.2" data-path="appendixC.html"><a href="appendixC.html#arguments-2"><i class="fa fa-check"></i><b>C.3.2</b> Arguments</a></li>
<li class="chapter" data-level="C.3.3" data-path="appendixC.html"><a href="appendixC.html#example-2"><i class="fa fa-check"></i><b>C.3.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.4" data-path="appendixC.html"><a href="appendixC.html#plotAllTagsSite"><i class="fa fa-check"></i><b>C.4</b> <code>plotAllTagsSite</code></a><ul>
<li class="chapter" data-level="C.4.1" data-path="appendixC.html"><a href="appendixC.html#description-3"><i class="fa fa-check"></i><b>C.4.1</b> Description</a></li>
<li class="chapter" data-level="C.4.2" data-path="appendixC.html"><a href="appendixC.html#arguments-3"><i class="fa fa-check"></i><b>C.4.2</b> Arguments</a></li>
<li class="chapter" data-level="C.4.3" data-path="appendixC.html"><a href="appendixC.html#example-3"><i class="fa fa-check"></i><b>C.4.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.5" data-path="appendixC.html"><a href="appendixC.html#plotDailySiteSum"><i class="fa fa-check"></i><b>C.5</b> <code>plotDailySiteSum</code></a><ul>
<li class="chapter" data-level="C.5.1" data-path="appendixC.html"><a href="appendixC.html#description-4"><i class="fa fa-check"></i><b>C.5.1</b> Description</a></li>
<li class="chapter" data-level="C.5.2" data-path="appendixC.html"><a href="appendixC.html#arguments-4"><i class="fa fa-check"></i><b>C.5.2</b> Arguments</a></li>
<li class="chapter" data-level="C.5.3" data-path="appendixC.html"><a href="appendixC.html#example-4"><i class="fa fa-check"></i><b>C.5.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.6" data-path="appendixC.html"><a href="appendixC.html#plotRouteMap"><i class="fa fa-check"></i><b>C.6</b> <code>plotRouteMap</code></a><ul>
<li class="chapter" data-level="C.6.1" data-path="appendixC.html"><a href="appendixC.html#description-5"><i class="fa fa-check"></i><b>C.6.1</b> Description</a></li>
<li class="chapter" data-level="C.6.2" data-path="appendixC.html"><a href="appendixC.html#example-5"><i class="fa fa-check"></i><b>C.6.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.7" data-path="appendixC.html"><a href="appendixC.html#plotSite"><i class="fa fa-check"></i><b>C.7</b> <code>plotSite</code></a><ul>
<li class="chapter" data-level="C.7.1" data-path="appendixC.html"><a href="appendixC.html#description-6"><i class="fa fa-check"></i><b>C.7.1</b> Description</a></li>
<li class="chapter" data-level="C.7.2" data-path="appendixC.html"><a href="appendixC.html#arguments-5"><i class="fa fa-check"></i><b>C.7.2</b> Arguments</a></li>
<li class="chapter" data-level="C.7.3" data-path="appendixC.html"><a href="appendixC.html#example-6"><i class="fa fa-check"></i><b>C.7.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.8" data-path="appendixC.html"><a href="appendixC.html#plotSiteSig"><i class="fa fa-check"></i><b>C.8</b> <code>plotSiteSig</code></a><ul>
<li class="chapter" data-level="C.8.1" data-path="appendixC.html"><a href="appendixC.html#description-7"><i class="fa fa-check"></i><b>C.8.1</b> Description</a></li>
<li class="chapter" data-level="C.8.2" data-path="appendixC.html"><a href="appendixC.html#arguments-6"><i class="fa fa-check"></i><b>C.8.2</b> Arguments</a></li>
<li class="chapter" data-level="C.8.3" data-path="appendixC.html"><a href="appendixC.html#example-7"><i class="fa fa-check"></i><b>C.8.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.9" data-path="appendixC.html"><a href="appendixC.html#plotTagSig"><i class="fa fa-check"></i><b>C.9</b> <code>plotTagSig</code></a><ul>
<li class="chapter" data-level="C.9.1" data-path="appendixC.html"><a href="appendixC.html#description-8"><i class="fa fa-check"></i><b>C.9.1</b> Description</a></li>
<li class="chapter" data-level="C.9.2" data-path="appendixC.html"><a href="appendixC.html#arguments-7"><i class="fa fa-check"></i><b>C.9.2</b> Arguments</a></li>
<li class="chapter" data-level="C.9.3" data-path="appendixC.html"><a href="appendixC.html#example-8"><i class="fa fa-check"></i><b>C.9.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.10" data-path="appendixC.html"><a href="appendixC.html#simSiteDet"><i class="fa fa-check"></i><b>C.10</b> <code>simSiteDet</code></a><ul>
<li class="chapter" data-level="C.10.1" data-path="appendixC.html"><a href="appendixC.html#description-9"><i class="fa fa-check"></i><b>C.10.1</b> Description</a></li>
<li class="chapter" data-level="C.10.2" data-path="appendixC.html"><a href="appendixC.html#arguments-8"><i class="fa fa-check"></i><b>C.10.2</b> Arguments</a></li>
<li class="chapter" data-level="C.10.3" data-path="appendixC.html"><a href="appendixC.html#example-9"><i class="fa fa-check"></i><b>C.10.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.11" data-path="appendixC.html"><a href="appendixC.html#siteSum"><i class="fa fa-check"></i><b>C.11</b> <code>siteSum</code></a><ul>
<li class="chapter" data-level="C.11.1" data-path="appendixC.html"><a href="appendixC.html#description-10"><i class="fa fa-check"></i><b>C.11.1</b> Description</a></li>
<li class="chapter" data-level="C.11.2" data-path="appendixC.html"><a href="appendixC.html#arguments-9"><i class="fa fa-check"></i><b>C.11.2</b> Arguments</a></li>
<li class="chapter" data-level="C.11.3" data-path="appendixC.html"><a href="appendixC.html#example-10"><i class="fa fa-check"></i><b>C.11.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.12" data-path="appendixC.html"><a href="appendixC.html#siteSumDaily"><i class="fa fa-check"></i><b>C.12</b> <code>siteSumDaily</code></a><ul>
<li class="chapter" data-level="C.12.1" data-path="appendixC.html"><a href="appendixC.html#description-11"><i class="fa fa-check"></i><b>C.12.1</b> Description</a></li>
<li class="chapter" data-level="C.12.2" data-path="appendixC.html"><a href="appendixC.html#arguments-10"><i class="fa fa-check"></i><b>C.12.2</b> Arguments</a></li>
<li class="chapter" data-level="C.12.3" data-path="appendixC.html"><a href="appendixC.html#example-11"><i class="fa fa-check"></i><b>C.12.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.13" data-path="appendixC.html"><a href="appendixC.html#siteTrans"><i class="fa fa-check"></i><b>C.13</b> <code>siteTrans</code></a><ul>
<li class="chapter" data-level="C.13.1" data-path="appendixC.html"><a href="appendixC.html#description-12"><i class="fa fa-check"></i><b>C.13.1</b> Description</a></li>
<li class="chapter" data-level="C.13.2" data-path="appendixC.html"><a href="appendixC.html#arguments-11"><i class="fa fa-check"></i><b>C.13.2</b> Arguments</a></li>
<li class="chapter" data-level="C.13.3" data-path="appendixC.html"><a href="appendixC.html#example-12"><i class="fa fa-check"></i><b>C.13.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.14" data-path="appendixC.html"><a href="appendixC.html#tagSum"><i class="fa fa-check"></i><b>C.14</b> <code>tagSum</code></a><ul>
<li class="chapter" data-level="C.14.1" data-path="appendixC.html"><a href="appendixC.html#description-13"><i class="fa fa-check"></i><b>C.14.1</b> Description</a></li>
<li class="chapter" data-level="C.14.2" data-path="appendixC.html"><a href="appendixC.html#arguments-12"><i class="fa fa-check"></i><b>C.14.2</b> Arguments</a></li>
<li class="chapter" data-level="C.14.3" data-path="appendixC.html"><a href="appendixC.html#example-13"><i class="fa fa-check"></i><b>C.14.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.15" data-path="appendixC.html"><a href="appendixC.html#tagSumSite"><i class="fa fa-check"></i><b>C.15</b> <code>tagSumSite</code></a><ul>
<li class="chapter" data-level="C.15.1" data-path="appendixC.html"><a href="appendixC.html#description-14"><i class="fa fa-check"></i><b>C.15.1</b> Description</a></li>
<li class="chapter" data-level="C.15.2" data-path="appendixC.html"><a href="appendixC.html#arguments-13"><i class="fa fa-check"></i><b>C.15.2</b> Arguments</a></li>
<li class="chapter" data-level="C.15.3" data-path="appendixC.html"><a href="appendixC.html#example-14"><i class="fa fa-check"></i><b>C.15.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="C.16" data-path="appendixC.html"><a href="appendixC.html#timeToSunriset"><i class="fa fa-check"></i><b>C.16</b> <code>timeToSunriset</code></a><ul>
<li class="chapter" data-level="C.16.1" data-path="appendixC.html"><a href="appendixC.html#description-15"><i class="fa fa-check"></i><b>C.16.1</b> Description</a></li>
<li class="chapter" data-level="C.16.2" data-path="appendixC.html"><a href="appendixC.html#arguments-14"><i class="fa fa-check"></i><b>C.16.2</b> Arguments</a></li>
<li class="chapter" data-level="C.16.3" data-path="appendixC.html"><a href="appendixC.html#example-15"><i class="fa fa-check"></i><b>C.16.3</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="D" data-path="appendixD.html"><a href="appendixD.html"><i class="fa fa-check"></i><b>D</b> Appendix - <code>motus</code> - Data filtering functions</a><ul>
<li class="chapter" data-level="D.1" data-path="appendixD.html"><a href="appendixD.html#listRunsFilters"><i class="fa fa-check"></i><b>D.1</b> <code>listRunsFilters</code></a><ul>
<li class="chapter" data-level="D.1.1" data-path="appendixD.html"><a href="appendixD.html#description-16"><i class="fa fa-check"></i><b>D.1.1</b> Description</a></li>
</ul></li>
<li class="chapter" data-level="D.2" data-path="appendixD.html"><a href="appendixD.html#arguments-15"><i class="fa fa-check"></i><b>D.2</b> Arguments</a></li>
<li class="chapter" data-level="D.3" data-path="appendixD.html"><a href="appendixD.html#example-16"><i class="fa fa-check"></i><b>D.3</b> Example</a></li>
<li class="chapter" data-level="D.4" data-path="appendixD.html"><a href="appendixD.html#createRunsFilter"><i class="fa fa-check"></i><b>D.4</b> <code>createRunsFilter</code></a><ul>
<li class="chapter" data-level="D.4.1" data-path="appendixD.html"><a href="appendixD.html#description-17"><i class="fa fa-check"></i><b>D.4.1</b> Description</a></li>
<li class="chapter" data-level="D.4.2" data-path="appendixD.html"><a href="appendixD.html#arguments-16"><i class="fa fa-check"></i><b>D.4.2</b> Arguments</a></li>
<li class="chapter" data-level="D.4.3" data-path="appendixD.html"><a href="appendixD.html#example-17"><i class="fa fa-check"></i><b>D.4.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="D.5" data-path="appendixD.html"><a href="appendixD.html#getRunsFilters"><i class="fa fa-check"></i><b>D.5</b> <code>getRunsFilters</code></a><ul>
<li class="chapter" data-level="D.5.1" data-path="appendixD.html"><a href="appendixD.html#description-18"><i class="fa fa-check"></i><b>D.5.1</b> Description</a></li>
<li class="chapter" data-level="D.5.2" data-path="appendixD.html"><a href="appendixD.html#arguments-17"><i class="fa fa-check"></i><b>D.5.2</b> Arguments</a></li>
<li class="chapter" data-level="D.5.3" data-path="appendixD.html"><a href="appendixD.html#example-18"><i class="fa fa-check"></i><b>D.5.3</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="D.6" data-path="appendixD.html"><a href="appendixD.html#writeRunsFilter"><i class="fa fa-check"></i><b>D.6</b> <code>writeRunsFilter</code></a><ul>
<li class="chapter" data-level="D.6.1" data-path="appendixD.html"><a href="appendixD.html#description-19"><i class="fa fa-check"></i><b>D.6.1</b> Description</a></li>
<li class="chapter" data-level="D.6.2" data-path="appendixD.html"><a href="appendixD.html#arguments-18"><i class="fa fa-check"></i><b>D.6.2</b> Arguments</a></li>
<li class="chapter" data-level="D.6.3" data-path="appendixD.html"><a href="appendixD.html#examples"><i class="fa fa-check"></i><b>D.6.3</b> Examples</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="E" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html"><i class="fa fa-check"></i><b>E</b> Bird’s Eye View of Motus Data</a><ul>
<li class="chapter" data-level="E.1" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#what-data-look-like"><i class="fa fa-check"></i><b>E.1</b> What data look like</a></li>
<li class="chapter" data-level="E.2" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#false-positives"><i class="fa fa-check"></i><b>E.2</b> False positives</a></li>
<li class="chapter" data-level="E.3" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#false-negatives"><i class="fa fa-check"></i><b>E.3</b> False negatives</a></li>
<li class="chapter" data-level="E.4" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#complication-data-are-processed-in-batches"><i class="fa fa-check"></i><b>E.4</b> Complication: data are processed in batches</a></li>
<li class="chapter" data-level="E.5" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#batches"><i class="fa fa-check"></i><b>E.5</b> Batches</a><ul>
<li class="chapter" data-level="E.5.1" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#receiver-reboots"><i class="fa fa-check"></i><b>E.5.1</b> Receiver Reboots</a></li>
<li class="chapter" data-level="E.5.2" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#incremental-distribution-of-data"><i class="fa fa-check"></i><b>E.5.2</b> Incremental Distribution of Data</a></li>
</ul></li>
<li class="chapter" data-level="E.6" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#reprocessing-data"><i class="fa fa-check"></i><b>E.6</b> Reprocessing Data</a></li>
<li class="chapter" data-level="E.7" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#the-eventual-reprocessing-contract"><i class="fa fa-check"></i><b>E.7</b> The (eventual) Reprocessing Contract</a></li>
<li class="chapter" data-level="E.8" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#reprocessing-simplified-only-by-boot-session"><i class="fa fa-check"></i><b>E.8</b> Reprocessing simplified: only by boot session</a></li>
<li class="chapter" data-level="E.9" data-path="birds-eye-view-of-motus-data.html"><a href="birds-eye-view-of-motus-data.html#distributing-reprocessed-data"><i class="fa fa-check"></i><b>E.9</b> Distributing reprocessed data</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Motus R Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendixC" class="section level1">
<h1><span class="header-section-number">C</span> Appendix - <code>motus</code> - Summary and plotting functions</h1>
<p>The <code>motus</code> R package offers functions that work with .motus data to do common computations, summaries and plots. This appendix outlines these functions and provides examples on function use. Many of these functions work with both <code>tbl</code> and <code>data.frame</code> formats, however some require the data to be in sql format as specified below. Detailed instructions on accessing and formatting data are available in Chapter <a href="accessingData.html#accessingData">3</a>. The examples throughout this chapter work with the sample data which can be accessed and converted to various formats through the following code:</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="appendixC.html#cb247-1"></a><span class="co"># download and access sample data in sql format</span></span>
<span id="cb247-2"><a href="appendixC.html#cb247-2"></a><span class="co"># username: motus.sample, password: motus.sample</span></span>
<span id="cb247-3"><a href="appendixC.html#cb247-3"></a>sql.motus &lt;-<span class="st"> </span><span class="kw">tagme</span>(<span class="dv">176</span>, <span class="dt">new =</span> <span class="ot">TRUE</span>, <span class="dt">update =</span> <span class="ot">TRUE</span>, <span class="dt">dir =</span> <span class="st">&quot;./data&quot;</span>)</span>
<span id="cb247-4"><a href="appendixC.html#cb247-4"></a></span>
<span id="cb247-5"><a href="appendixC.html#cb247-5"></a><span class="co"># extract &quot;alltags&quot;&quot; table from sql file &quot;sql.motus&quot;</span></span>
<span id="cb247-6"><a href="appendixC.html#cb247-6"></a>tbl.alltags &lt;-<span class="st"> </span><span class="kw">tbl</span>(sql.motus, <span class="st">&quot;alltagsGPS&quot;</span>) </span>
<span id="cb247-7"><a href="appendixC.html#cb247-7"></a></span>
<span id="cb247-8"><a href="appendixC.html#cb247-8"></a><span class="co">## convert the tbl &quot;tbl.alltags&quot; to a data.frame called &quot;df.alltags&quot;</span></span>
<span id="cb247-9"><a href="appendixC.html#cb247-9"></a>df.alltags &lt;-<span class="st"> </span>tbl.alltags <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb247-10"><a href="appendixC.html#cb247-10"></a><span class="st">  </span><span class="kw">collect</span>() <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb247-11"><a href="appendixC.html#cb247-11"></a><span class="st">  </span><span class="kw">as.data.frame</span>()</span></code></pre></div>
<p>You can access the function help pages using `?sunRiseSet in the R console. Or view the underlying function code like this:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="appendixC.html#cb248-1"></a>sunRiseSet</span></code></pre></div>
<pre><code>## function (data, lat = &quot;recvDeployLat&quot;, lon = &quot;recvDeployLon&quot;, 
##     ts = &quot;ts&quot;) 
## {
##     data &lt;- data %&gt;% dplyr::collect() %&gt;% as.data.frame()
##     data$ts &lt;- lubridate::as_datetime(data$ts, tz = &quot;UTC&quot;)
##     cols &lt;- c(lat, lon, ts)
##     loc_na &lt;- data[!stats::complete.cases(data[cols]), ]
##     loc &lt;- data[stats::complete.cases(data[cols]), ]
##     if (nrow(loc) == 0) 
##         stop(&quot;No data with coordinates &#39;&quot;, lat, &quot;&#39; and &#39;&quot;, lon, 
##             &quot;&#39;&quot;, call. = FALSE)
##     loc$sunrise &lt;- maptools::sunriset(as.matrix(dplyr::select(loc, 
##         lon, lat)), loc$ts, POSIXct.out = T, direction = &quot;sunrise&quot;)$time
##     loc$sunset &lt;- maptools::sunriset(as.matrix(dplyr::select(loc, 
##         lon, lat)), loc$ts, POSIXct.out = T, direction = &quot;sunset&quot;)$time
##     data &lt;- merge(loc, loc_na, all = TRUE)
##     return(data)
## }
## &lt;bytecode: 0x000000003ca837a0&gt;
## &lt;environment: namespace:motus&gt;</code></pre>
<div id="checkVersionB" class="section level2">
<h2><span class="header-section-number">C.1</span> <code>checkVersion</code></h2>
<div id="description" class="section level3">
<h3><span class="header-section-number">C.1.1</span> Description</h3>
<p>When you call the <code>tagme()</code> function to load the sqlite database, there is a process that will verify that your database has the version matching the most current version of the motus package and store the version in a new table called <code>admInfo.</code> Over time, changes will be made that require adding new tables, views or fields to the database. The following call will check that your database has been updated to the version matching the current version of the motus package. Refer to Appendix B if this call returns a warning; if you do not have the most recent version, see Chapter <a href="loadingPackages.html#loadingPackages">2</a> to update <code>motus</code>.</p>
</div>
<div id="arguments" class="section level3">
<h3><span class="header-section-number">C.1.2</span> Arguments</h3>
<p><strong>sql.motus</strong> an sqlite database of .motus data downloaded using <code>tagme()</code></p>
</div>
<div id="example" class="section level3">
<h3><span class="header-section-number">C.1.3</span> Example</h3>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="appendixC.html#cb250-1"></a><span class="kw">checkVersion</span>(sql.motus)</span></code></pre></div>
</div>
</div>
<div id="sunRiseSet" class="section level2">
<h2><span class="header-section-number">C.2</span> <code>sunRiseSet</code></h2>
<div id="description-1" class="section level3">
<h3><span class="header-section-number">C.2.1</span> Description</h3>
<p>Creates and adds a sunrise and sunset variable to a data.frame containing latitude, longitude, and a date/time as POSIXct or numeric.</p>
</div>
<div id="arguments-1" class="section level3">
<h3><span class="header-section-number">C.2.2</span> Arguments</h3>
<p><strong><code>data</code></strong> can be either a selected table from .motus detection data e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for date/time, latitude, and longitude<br />
<strong><code>lat</code></strong> variable with latitude values, defaults to recvDeployLat<br />
<strong><code>lon</code></strong> variable with longitude values, defaults to recvDeployLon<br />
<strong><code>ts</code></strong> variable with time in UTC as numeric or POSIXct, defaults to ts</p>
</div>
<div id="example-1" class="section level3">
<h3><span class="header-section-number">C.2.3</span> Example</h3>
<p>Add sunrise/sunset variables to the <code>alltags</code> data.frame</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="appendixC.html#cb251-1"></a>alltags.df.sun &lt;-<span class="st"> </span><span class="kw">sunRiseSet</span>(df.alltags)</span>
<span id="cb251-2"><a href="appendixC.html#cb251-2"></a><span class="kw">head</span>(alltags.df.sun)</span></code></pre></div>
<pre><code>##    hitID runID batchID                  ts tsCorrected sig sigsd noise freq
## 1  45107  8886      53 2015-10-26 11:19:49  1445858390  52     0   -96    4
## 2  45108  8886      53 2015-10-26 11:20:28  1445858429  54     0   -96    4
## 3  45109  8886      53 2015-10-26 11:21:17  1445858477  55     0   -96    4
## 4  45110  8886      53 2015-10-26 11:21:55  1445858516  52     0   -96    4
## 5  45111  8886      53 2015-10-26 11:22:44  1445858564  49     0   -96    4
## 6 199885 23305      64 2015-10-26 11:12:04  1445857924  33     0   -96    4
##   freqsd  slop burstSlop done motusTagID ambigID port runLen bootnum tagProjID
## 1      0 1e-04    0.0000    1      16047      NA    3      5      11       176
## 2      0 1e-04   -0.0021    1      16047      NA    3      5      11       176
## 3      0 1e-04    0.0001    1      16047      NA    3      5      11       176
## 4      0 1e-04   -0.0010    1      16047      NA    3      5      11       176
## 5      0 1e-04    0.0001    1      16047      NA    3      5      11       176
## 6      0 1e-04    0.0000    1      16047      NA    1     11       4       176
##   mfgID tagType codeSet   mfg tagModel tagLifespan nomFreq  tagBI pulseLen
## 1   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 2   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 3   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 4   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 5   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 6   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
##   tagDeployID speciesID markerNumber markerType tagDeployStart tagDeployEnd
## 1        1839      4670    135268103 metal band     1441908000   1457632800
## 2        1839      4670    135268103 metal band     1441908000   1457632800
## 3        1839      4670    135268103 metal band     1441908000   1457632800
## 4        1839      4670    135268103 metal band     1441908000   1457632800
## 5        1839      4670    135268103 metal band     1441908000   1457632800
## 6        1839      4670    135268103 metal band     1441908000   1457632800
##   tagDepLat tagDepLon tagDepAlt
## 1   51.4839    -80.45        NA
## 2   51.4839    -80.45        NA
## 3   51.4839    -80.45        NA
## 4   51.4839    -80.45        NA
## 5   51.4839    -80.45        NA
## 6   51.4839    -80.45        NA
##                                                                                                                                                                                                tagDepComments
## 1 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 2 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 3 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 4 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 5 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 6 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
##   tagDeployTest                             fullID deviceID recvDeployID
## 1            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 2            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 3            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 4            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 5            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 6            NA SampleData#378:9.7@166.38(M.16047)      515         2512
##   recvDeployLat recvDeployLon recvDeployAlt      recv recvDeployName
## 1      42.60699     -72.71657            NA Lotek-159      Shelburne
## 2      42.60699     -72.71657            NA Lotek-159      Shelburne
## 3      42.60699     -72.71657            NA Lotek-159      Shelburne
## 4      42.60699     -72.71657            NA Lotek-159      Shelburne
## 5      42.60699     -72.71657            NA Lotek-159      Shelburne
## 6      42.68067     -72.47392            NA Lotek-164  BennettMeadow
##   recvSiteName isRecvMobile recvProjID recvUtcOffset antType antBearing
## 1         &lt;NA&gt;            0         74            NA  yagi-9        127
## 2         &lt;NA&gt;            0         74            NA  yagi-9        127
## 3         &lt;NA&gt;            0         74            NA  yagi-9        127
## 4         &lt;NA&gt;            0         74            NA  yagi-9        127
## 5         &lt;NA&gt;            0         74            NA  yagi-9        127
## 6         &lt;NA&gt;            0         74            NA  yagi-9        243
##   antHeight speciesEN          speciesFR       speciesSci speciesGroup
## 1        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 2        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 3        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 4        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 5        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 6        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
##   tagProjName recvProjName gpsLat gpsLon gpsAlt             sunrise
## 1  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 2  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 3  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 4  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 5  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 6  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:15:58
##                sunset
## 1 2015-10-26 21:52:11
## 2 2015-10-26 21:52:11
## 3 2015-10-26 21:52:11
## 4 2015-10-26 21:52:11
## 5 2015-10-26 21:52:11
## 6 2015-10-26 21:51:06</code></pre>
</div>
</div>
<div id="plotAllTagsCoord" class="section level2">
<h2><span class="header-section-number">C.3</span> <code>plotAllTagsCoord</code></h2>
<div id="description-2" class="section level3">
<h3><span class="header-section-number">C.3.1</span> Description</h3>
<p>Plot latitude/longitude vs time (UTC rounded to the hour) for each tag using .motus detection data. Coordinate is by default taken from a receivers GPS latitude recordings.</p>
</div>
<div id="arguments-2" class="section level3">
<h3><span class="header-section-number">C.3.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus detection data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for date/time, and either latitude or longitude<br />
<strong><code>tagsPerPanel</code></strong> number of tags in each panel of the plot, by default this is 5<br />
<strong><code>coordinate</code></strong> variable name from which to obtain location values, by default it is set to <code>recvDeployLat</code><br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to <code>ts</code><br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name<br />
<strong><code>fullID</code></strong> variable consisting of a tag fullID<br />
<strong><code>mfgID</code></strong> variable consisting of a tags manufacturer ID</p>
</div>
<div id="example-2" class="section level3">
<h3><span class="header-section-number">C.3.3</span> Example</h3>
<p>Plot select tags from <code>tbl.alltags</code> with 3 tags per panel</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="appendixC.html#cb253-1"></a><span class="kw">plotAllTagsCoord</span>(</span>
<span id="cb253-2"><a href="appendixC.html#cb253-2"></a>  <span class="kw">filter</span>(tbl.alltags, motusTagID <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">19129</span>, <span class="dv">16011</span>, <span class="dv">17357</span>, <span class="dv">16035</span>, <span class="dv">22897</span>, <span class="dv">23316</span>)), </span>
<span id="cb253-3"><a href="appendixC.html#cb253-3"></a>  <span class="dt">tagsPerPanel =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="MotusRBook_files/figure-html/plotAllTagsCoord-1.png" width="672" /></p>
</div>
</div>
<div id="plotAllTagsSite" class="section level2">
<h2><span class="header-section-number">C.4</span> <code>plotAllTagsSite</code></h2>
<div id="description-3" class="section level3">
<h3><span class="header-section-number">C.4.1</span> Description</h3>
<p>Plot latitude/longitude vs time (UTC rounded to the hour) for each tag using .motus detection data. Coordinate is by default taken from a receivers GPS latitude recordings.</p>
</div>
<div id="arguments-3" class="section level3">
<h3><span class="header-section-number">C.4.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus detection data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for date/time, and either latitude or longitude<br />
<strong><code>tagsPerPanel</code></strong> number of tags in each panel of the plot, by default this is 5<br />
<strong><code>coordinate</code></strong> variable name from which to obtain location values, by default it is set to <code>recvDeployLat</code><br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to <code>ts</code><br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name<br />
<strong><code>fullID</code></strong> variable consisting of a tag fullID<br />
<strong><code>mfgID</code></strong> variable consisting of a tags manufacturer ID</p>
</div>
<div id="example-3" class="section level3">
<h3><span class="header-section-number">C.4.3</span> Example</h3>
<p>Plot tbl file <code>tbl.alltags</code> using gpsLat and 3 tags per panel for select species Red Knot</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="appendixC.html#cb254-1"></a><span class="kw">plotAllTagsSite</span>(<span class="kw">filter</span>(tbl.alltags, speciesEN <span class="op">==</span><span class="st"> &quot;Red Knot&quot;</span>), </span>
<span id="cb254-2"><a href="appendixC.html#cb254-2"></a>                <span class="dt">coordinate =</span> <span class="st">&quot;recvDeployLat&quot;</span>, </span>
<span id="cb254-3"><a href="appendixC.html#cb254-3"></a>                <span class="dt">tagsPerPanel =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="MotusRBook_files/figure-html/plotAllTagsSite-1.png" width="672" /></p>
</div>
</div>
<div id="plotDailySiteSum" class="section level2">
<h2><span class="header-section-number">C.5</span> <code>plotDailySiteSum</code></h2>
<div id="description-4" class="section level3">
<h3><span class="header-section-number">C.5.1</span> Description</h3>
<p>Plots total number of detections across all tags, and total number of tags detected per day for a specified site. Depends on siteSumDaily function.</p>
</div>
<div id="arguments-4" class="section level3">
<h3><span class="header-section-number">C.5.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. “alltags”, or a data.frame of detection data including at a minimum variables for <code>motusTagID</code>, <code>sig</code>, <code>recvDepName</code>, <code>ts</code><br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>sig</code></strong> variable consisting a signal strength variable<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name<br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to <code>ts</code></p>
</div>
<div id="example-4" class="section level3">
<h3><span class="header-section-number">C.5.3</span> Example</h3>
<p>Plot of all tag detections at site Longridge using data.frame <code>df.alltags</code></p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="appendixC.html#cb255-1"></a><span class="kw">plotDailySiteSum</span>(df.alltags, <span class="dt">recvDeployName =</span> <span class="st">&quot;Longridge&quot;</span>)</span></code></pre></div>
<p><img src="MotusRBook_files/figure-html/plotDailySiteSum-1.png" width="672" /></p>
</div>
</div>
<div id="plotRouteMap" class="section level2">
<h2><span class="header-section-number">C.6</span> <code>plotRouteMap</code></h2>
<div id="description-5" class="section level3">
<h3><span class="header-section-number">C.6.1</span> Description</h3>
<p><code>ggmap</code> map of routes of Motus tag detections coloured by <code>motusTagID.</code> User defines a date range to show points for receivers that were operational at some point during specified date range.
### Arguments
<strong><code>data</code></strong> a .motus sql file<br />
<strong><code>maptype</code></strong> map type to display, can be: “terrain” , “terrain-background”, “toner”, “watercolor”, etc.
<strong><code>lat</code></strong> top and bottom latitude bounds. If NULL (default) this is calculated from the data
<strong><code>lon</code></strong> left and right longitude bounds. If NULL (default) this is calculated from the data
<strong><code>zoom</code></strong> integer for zoom 3-21, 3 being continent level, 10 being city-scale<br />
<strong><code>recvStart</code></strong> start date for date range of active receivers<br />
<strong><code>recvEnd</code></strong> end date for date range of active receivers</p>
</div>
<div id="example-5" class="section level3">
<h3><span class="header-section-number">C.6.2</span> Example</h3>
<p>Plot routemap of all detection data, with “terrain” maptype, and receivers active between 2016-01-01 and 2017-01-01</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="appendixC.html#cb256-1"></a><span class="kw">plotRouteMap</span>(sql.motus, </span>
<span id="cb256-2"><a href="appendixC.html#cb256-2"></a>             <span class="dt">maptype =</span> <span class="st">&quot;terrain&quot;</span>,</span>
<span id="cb256-3"><a href="appendixC.html#cb256-3"></a>             <span class="dt">recvStart =</span> <span class="st">&quot;2016-01-01&quot;</span>, <span class="dt">recvEnd =</span> <span class="st">&quot;2016-12-31&quot;</span>)</span></code></pre></div>
<pre><code>## Source : http://tile.stamen.com/terrain/3/1/2.png</code></pre>
<pre><code>## Source : http://tile.stamen.com/terrain/3/2/2.png</code></pre>
<pre><code>## Source : http://tile.stamen.com/terrain/3/1/3.png</code></pre>
<pre><code>## Source : http://tile.stamen.com/terrain/3/2/3.png</code></pre>
<p><img src="MotusRBook_files/figure-html/plotRouteMap-1.png" width="672" /></p>
</div>
</div>
<div id="plotSite" class="section level2">
<h2><span class="header-section-number">C.7</span> <code>plotSite</code></h2>
<div id="description-6" class="section level3">
<h3><span class="header-section-number">C.7.1</span> Description</h3>
</div>
<div id="arguments-5" class="section level3">
<h3><span class="header-section-number">C.7.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for ts, <code>antBearing</code>, <code>fullID</code>, <code>recvDepName</code><br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to ts<br />
<strong><code>antBearing</code></strong> variable consisting antenna bearing variable<br />
<strong><code>fullID</code></strong> variable consisting of a tag fullID<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name</p>
</div>
<div id="example-6" class="section level3">
<h3><span class="header-section-number">C.7.3</span> Example</h3>
<p>Plot only detections at a specific site; Piskwamish for data.frame <code>df.alltags</code></p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="appendixC.html#cb261-1"></a><span class="kw">plotSite</span>(<span class="kw">filter</span>(df.alltags, recvDeployName <span class="op">==</span><span class="st"> &quot;Piskwamish&quot;</span>))</span></code></pre></div>
<p><img src="MotusRBook_files/figure-html/plotSite-1.png" width="672" /></p>
</div>
</div>
<div id="plotSiteSig" class="section level2">
<h2><span class="header-section-number">C.8</span> <code>plotSiteSig</code></h2>
<div id="description-7" class="section level3">
<h3><span class="header-section-number">C.8.1</span> Description</h3>
<p>Plot signal strength vs time for all tags detected at a specified site, coloured by antenna</p>
</div>
<div id="arguments-6" class="section level3">
<h3><span class="header-section-number">C.8.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for antBearing, <code>ts</code>, <code>lat</code>, <code>sig</code>, <code>fullID</code>, <code>recvDepName</code><br />
<strong><code>antBearing</code></strong> variable consisting antenna bearing variable<br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to ts<br />
<strong><code>recvDeployLat</code></strong> variable consisting of receiver deployment latitude<br />
<strong><code>sig</code></strong> variable consisting a signal strength variable<br />
<strong><code>fullID</code></strong> variable consisting of a tag fullID<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name</p>
</div>
<div id="example-7" class="section level3">
<h3><span class="header-section-number">C.8.3</span> Example</h3>
<p>Plot select tags for site Piskwamish</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="appendixC.html#cb262-1"></a><span class="kw">plotSiteSig</span>(<span class="kw">filter</span>(df.alltags, motusTagID <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">16037</span>, <span class="dv">16039</span>, <span class="dv">16035</span>)), </span>
<span id="cb262-2"><a href="appendixC.html#cb262-2"></a>            <span class="dt">recvDeployName =</span> <span class="st">&quot;Netitishi&quot;</span>)</span></code></pre></div>
<p><img src="MotusRBook_files/figure-html/plotSiteSig-1.png" width="672" /></p>
</div>
</div>
<div id="plotTagSig" class="section level2">
<h2><span class="header-section-number">C.9</span> <code>plotTagSig</code></h2>
<div id="description-8" class="section level3">
<h3><span class="header-section-number">C.9.1</span> Description</h3>
<p>Plot signal strength vs time for specified tag, faceted by site (ordered by latitude) and coloured by antenna</p>
</div>
<div id="arguments-7" class="section level3">
<h3><span class="header-section-number">C.9.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. “alltags”, or a data.frame of detection data including at a minimum variables for <code>motusTagID</code>, <code>sig</code>, <code>ts</code>, <code>antBearing</code>, <code>recvDeployLat</code>, <code>fullID</code>, <code>recvDepName</code><br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>antBearing</code></strong> variable consisting antenna bearing variable<br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to <code>ts</code><br />
<strong><code>recvDeployLat</code></strong> variable consisting of receiver deployment latitude<br />
<strong><code>sig</code></strong> variable consisting a signal strength variable<br />
<strong><code>fullID</code></strong> variable consisting of a tag fullID<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name</p>
</div>
<div id="example-8" class="section level3">
<h3><span class="header-section-number">C.9.3</span> Example</h3>
<p>Plot signal strength of a specified tag using <code>tbl</code> file <code>tbl.alltags</code></p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="appendixC.html#cb263-1"></a><span class="kw">plotTagSig</span>(tbl.alltags, <span class="dt">motusTagID =</span> <span class="dv">16035</span>)</span></code></pre></div>
<p><img src="MotusRBook_files/figure-html/plotTagSig-1.png" width="672" /></p>
</div>
</div>
<div id="simSiteDet" class="section level2">
<h2><span class="header-section-number">C.10</span> <code>simSiteDet</code></h2>
<div id="description-9" class="section level3">
<h3><span class="header-section-number">C.10.1</span> Description</h3>
<p>Creates a data.frame consisting of only detections of tags that are detected at two or more receivers at the same time.</p>
</div>
<div id="arguments-8" class="section level3">
<h3><span class="header-section-number">C.10.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for <code>ts</code>, <code>motusTagID</code>, <code>recvDepName</code><br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to <code>ts</code><br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name</p>
</div>
<div id="example-9" class="section level3">
<h3><span class="header-section-number">C.10.3</span> Example</h3>
<p>To get a data.frame called <code>simSites</code> of just simultaneous detections from a data.frame <code>df.alltags</code></p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="appendixC.html#cb264-1"></a>simSites &lt;-<span class="st"> </span><span class="kw">simSiteDet</span>(df.alltags)</span>
<span id="cb264-2"><a href="appendixC.html#cb264-2"></a><span class="kw">head</span>(simSites)</span></code></pre></div>
<pre><code>##  [1] motusTagID     ts             num.dup        hitID          runID         
##  [6] batchID        tsCorrected    sig            sigsd          noise         
## [11] freq           freqsd         slop           burstSlop      done          
## [16] ambigID        port           runLen         bootnum        tagProjID     
## [21] mfgID          tagType        codeSet        mfg            tagModel      
## [26] tagLifespan    nomFreq        tagBI          pulseLen       tagDeployID   
## [31] speciesID      markerNumber   markerType     tagDeployStart tagDeployEnd  
## [36] tagDepLat      tagDepLon      tagDepAlt      tagDepComments tagDeployTest 
## [41] fullID         deviceID       recvDeployID   recvDeployLat  recvDeployLon 
## [46] recvDeployAlt  recv           recvDeployName recvSiteName   isRecvMobile  
## [51] recvProjID     recvUtcOffset  antType        antBearing     antHeight     
## [56] speciesEN      speciesFR      speciesSci     speciesGroup   tagProjName   
## [61] recvProjName   gpsLat         gpsLon         gpsAlt        
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
</div>
<div id="siteSum" class="section level2">
<h2><span class="header-section-number">C.11</span> <code>siteSum</code></h2>
<div id="description-10" class="section level3">
<h3><span class="header-section-number">C.11.1</span> Description</h3>
<p>Creates a summary of the first and last detection at a site, the length of time between first and last detection, the number of tags, and the total number of detections at a site. Plots total number of detections across all tags, and total number of tags detected at each site.</p>
</div>
<div id="arguments-9" class="section level3">
<h3><span class="header-section-number">C.11.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for <code>motusTagID</code>, <code>sig</code>, <code>recvDeployLat</code>, <code>recvDepName</code>, and <code>ts</code><br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>sig</code></strong> variable consisting a signal strength variable<br />
<strong><code>recvDeployLat</code></strong> variable consisting of receiver deployment latitude<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name<br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to ts<br />
<strong><code>units</code></strong> units to display time difference, defaults to “hours”, options include “secs”, “mins”, “hours”, “days”, “weeks”</p>
</div>
<div id="example-10" class="section level3">
<h3><span class="header-section-number">C.11.3</span> Example</h3>
<p>Create site summaries for select sites with time in minutes</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="appendixC.html#cb266-1"></a>site_summary &lt;-<span class="st"> </span><span class="kw">siteSum</span>(<span class="kw">filter</span>(df.alltags, </span>
<span id="cb266-2"><a href="appendixC.html#cb266-2"></a>                               recvDeployName <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Niapiskau&quot;</span>, <span class="st">&quot;Netitishi&quot;</span>, </span>
<span id="cb266-3"><a href="appendixC.html#cb266-3"></a>                                                     <span class="st">&quot;Old Cur&quot;</span>, <span class="st">&quot;Washkaugou&quot;</span>)), </span>
<span id="cb266-4"><a href="appendixC.html#cb266-4"></a>                        <span class="dt">units =</span> <span class="st">&quot;mins&quot;</span>)</span></code></pre></div>
<p><img src="MotusRBook_files/figure-html/siteSum-1.png" width="672" /></p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="appendixC.html#cb267-1"></a><span class="kw">head</span>(site_summary)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 6
##   recvDeployName first_ts            last_ts             tot_ts num.tags num.det
##   &lt;fct&gt;          &lt;dttm&gt;              &lt;dttm&gt;              &lt;drtn&gt;    &lt;int&gt;   &lt;int&gt;
## 1 Niapiskau_50.~ 2016-10-01 23:47:57 2016-10-27 00:03:21 36015~        6   82376
## 2 Washkaugou_51~ 2016-10-09 23:52:45 2016-10-10 00:00:42     7~        2     172
## 3 Netitishi_51.~ 2015-08-14 17:53:49 2015-09-08 01:10:13 34996~        7    2363</code></pre>
</div>
</div>
<div id="siteSumDaily" class="section level2">
<h2><span class="header-section-number">C.12</span> <code>siteSumDaily</code></h2>
<div id="description-11" class="section level3">
<h3><span class="header-section-number">C.12.1</span> Description</h3>
<p>Creates a summary of the first and last daily detection at a site, the length of time between first and last detection, the number of tags, and the total number of detections at a site for each day. Same as siteSum, but daily by site.</p>
</div>
<div id="arguments-10" class="section level3">
<h3><span class="header-section-number">C.12.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for <code>motusTagID</code>, <code>sig</code>, <code>recvDepName</code>, <code>ts</code><br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>sig</code></strong> variable consisting a signal strength variable<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name<br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to ts<br />
<strong><code>units</code></strong> units to display time difference, defaults to “hours”, options include “secs”, “mins”, “hours”, “days”, “weeks”</p>
</div>
<div id="example-11" class="section level3">
<h3><span class="header-section-number">C.12.3</span> Example</h3>
<p>Create site summaries for all sites within detection data with time in minutes using <code>tbl</code> file <code>tbl.alltags</code></p>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="appendixC.html#cb269-1"></a>daily_site_summary &lt;-<span class="st"> </span><span class="kw">siteSumDaily</span>(tbl.alltags, <span class="dt">units =</span> <span class="st">&quot;mins&quot;</span>)</span>
<span id="cb269-2"><a href="appendixC.html#cb269-2"></a><span class="kw">head</span>(daily_site_summary)</span></code></pre></div>
<pre><code>##                            recvDeployName       date            first_ts
## 1      Assateague State Park\n38.2, -75.1 2015-09-13 2015-09-13 10:12:50
## 2                    Baccaro\n43.5, -65.5 2017-05-19 2017-05-19 16:01:21
## 3              BennettMeadow\n42.7, -72.5 2015-10-26 2015-10-26 11:12:04
## 4 Binbrook_Conservation_Area\n43.1, -79.8 2017-05-18 2017-05-18 03:13:25
## 5                       BISE\n41.2, -71.6 2015-10-26 2015-10-26 17:55:47
## 6                  Blandford\n44.5, -64.1 2015-12-26 2015-12-26 14:58:27
##               last_ts         tot_ts num_tags num_det
## 1 2015-09-13 10:14:40  1.828847 mins        1       6
## 2 2017-05-19 16:02:40  1.323297 mins        3       6
## 3 2015-10-26 11:30:49 18.747692 mins        1      27
## 4 2017-05-18 03:13:46  0.353195 mins        2       6
## 5 2015-10-26 19:16:55 81.132212 mins        1      44
## 6 2015-12-26 14:58:47  0.323150 mins        1       2</code></pre>
</div>
</div>
<div id="siteTrans" class="section level2">
<h2><span class="header-section-number">C.13</span> <code>siteTrans</code></h2>
<div id="description-12" class="section level3">
<h3><span class="header-section-number">C.13.1</span> Description</h3>
<p>Creates a data.frame of transitions between sites; detections are ordered by detection time, then “transitions” are identified as the period between the final detection at site x (possible “departure”), and the first detection (possible “arrival”) at site y (ordered chronologically). Each row contains the last detection time and lat/lon of site x, first detection time and lat/lon of site y, distance between the site pair, time between detections, rate of movement between detections, and bearing between site pairs.</p>
</div>
<div id="arguments-11" class="section level3">
<h3><span class="header-section-number">C.13.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for <code>ts</code>, <code>motusTagID</code>, <code>tagDeployID</code>, <code>recvDeployLat</code>, <code>recvDeployLon</code>, <code>recvDepName</code><br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to ts<br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>tagDeployID</code></strong> variable consisting of Motus tag deployment ID<br />
<strong><code>recvDeployLat</code></strong> variable consisting of receiver deployment latitude<br />
<strong><code>recvDeployLon</code></strong> variable consisting of receiver deployment longitude<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name</p>
</div>
<div id="example-12" class="section level3">
<h3><span class="header-section-number">C.13.3</span> Example</h3>
<p>View site transitions for only tag 16037 from data.frame <code>df.alltags</code></p>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="appendixC.html#cb271-1"></a>transitions &lt;-<span class="st"> </span><span class="kw">siteTrans</span>(<span class="kw">filter</span>(df.alltags, motusTagID <span class="op">==</span><span class="st"> </span><span class="dv">16037</span>), </span>
<span id="cb271-2"><a href="appendixC.html#cb271-2"></a>                         <span class="dt">latCoord =</span> <span class="st">&quot;recvDeployLat&quot;</span>, <span class="dt">lonCoord =</span> <span class="st">&quot;recvDeployLon&quot;</span>)</span>
<span id="cb271-3"><a href="appendixC.html#cb271-3"></a><span class="kw">head</span>(transitions)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 16
## # Groups:   motusTagID, tagDeployID [1]
##   motusTagID tagDeployID data  consec ts.x                lat.x lon.x
##        &lt;int&gt;       &lt;int&gt; &lt;lis&gt; &lt;list&gt; &lt;dttm&gt;              &lt;dbl&gt; &lt;dbl&gt;
## 1      16037        1825 &lt;tib~ &lt;tibb~ 2015-08-17 17:02:39  NA    NA  
## 2      16037        1825 &lt;tib~ &lt;tibb~ 2015-08-28 16:40:18  51.5 -80.4
## 3      16037        1825 &lt;tib~ &lt;tibb~ 2015-09-08 01:10:13  51.3 -80.1
## 4      16037        1825 &lt;tib~ &lt;tibb~ 2015-09-08 18:37:16  44.6 -65.8
## 5      16037        1825 &lt;tib~ &lt;tibb~ 2015-09-13 19:46:27  39.0 -74.8
## 6      16037        1825 &lt;tib~ &lt;tibb~ 2015-09-14 15:56:49  37.1 -76.0
## # ... with 9 more variables: recvDeployName.x &lt;chr&gt;, ts.y &lt;dttm&gt;, lat.y &lt;dbl&gt;,
## #   lon.y &lt;dbl&gt;, recvDeployName.y &lt;chr&gt;, tot_ts &lt;drtn&gt;, dist &lt;dbl&gt;, rate &lt;dbl&gt;,
## #   bearing &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="tagSum" class="section level2">
<h2><span class="header-section-number">C.14</span> <code>tagSum</code></h2>
<div id="description-13" class="section level3">
<h3><span class="header-section-number">C.14.1</span> Description</h3>
<p>Creates a summary for each tag of it’s first and last detection time, first and last detection site, length of time between first and last detection, straight line distance between first and last detection site, rate of movement, and bearing</p>
</div>
<div id="arguments-12" class="section level3">
<h3><span class="header-section-number">C.14.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for <code>motusTagID</code>, <code>fullID</code>, <code>recvDeployLat</code>, <code>recvDeployLon</code>, <code>recvDepName</code>, <code>ts</code><br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>fullID</code></strong> variable consisting of a tag fullID<br />
<strong><code>recvDeployLat</code></strong> variable consisting of receiver deployment latitude<br />
<strong><code>recvDeployLon</code></strong> variable consisting of receiver deployment longitude<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name<br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to ts</p>
</div>
<div id="example-13" class="section level3">
<h3><span class="header-section-number">C.14.3</span> Example</h3>
<p>Create tag summary for all tags within detection data using tbl file <code>tbl.alltags</code></p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="appendixC.html#cb273-1"></a>tag_summary &lt;-<span class="st"> </span><span class="kw">tagSum</span>(tbl.alltags)</span>
<span id="cb273-2"><a href="appendixC.html#cb273-2"></a><span class="kw">head</span>(tag_summary)</span></code></pre></div>
<pre><code>##                               fullID            first_ts             last_ts
## 1      Niles#152:6.1@166.38(M.10811) 2015-08-03 06:37:11 2015-08-03 06:37:35
## 2                   ?proj?-0#395:9.7 2015-07-23 10:10:54 2015-09-02 20:06:13
## 3      Selva#172:6.1@166.38(M.17021) 2015-09-02 04:06:07 2015-09-03 00:27:16
## 4 SampleData#152:6.1@166.38(M.16011) 2015-08-03 06:37:11 2015-09-18 09:37:39
## 5 SampleData#395:9.7@166.38(M.16052) 2015-09-12 17:38:04 2015-10-20 20:43:43
## 6 SampleData#179:6.1@166.38(M.16037) 2015-08-17 17:01:38 2015-11-02 13:21:42
##                first_site               last_site recvLat.x recvLon.x recvLat.y
## 1 North Bluff_51.5, -80.4 North Bluff_51.5, -80.4   51.4839  -80.4500  51.48390
## 2     Machias_44.5, -67.1     Ruby&#39;s_62.9, -143.7   44.5023  -67.1018  62.89072
## 3   Netitishi_51.3, -80.1           MDR_44, -68.1   51.2913  -80.1168  43.96893
## 4 North Bluff_51.5, -80.4           NWW_39, -74.8   51.4839  -80.4500  39.02827
## 5   Longridge_51.8, -80.7    Mount Thom_45.6, -63   51.8231  -80.6912  45.55480
## 6        NP mobile_NA, NA Hillman_Marsh_42, -82.5        NA        NA  42.04270
##    recvLon.y           tot_ts    dist       rate    bearing num_det
## 1  -80.45000      24.386 secs       0  0.0000000 -180.00000       4
## 2 -143.68170 3578118.674 secs 5087724  1.4218993  -38.36268      12
## 3  -68.12830   73268.958 secs 1211577 16.5360200  127.53144     279
## 4  -74.81004 3985228.228 secs 1452237  0.3644051  160.20437     127
## 5  -62.98590 3294338.784 secs 1472844  0.4470832  111.25011     147
## 6  -82.51440 6639604.044 secs      NA         NA         NA    1353</code></pre>
</div>
</div>
<div id="tagSumSite" class="section level2">
<h2><span class="header-section-number">C.15</span> <code>tagSumSite</code></h2>
<div id="description-14" class="section level3">
<h3><span class="header-section-number">C.15.1</span> Description</h3>
<p>Creates a summary for each tag of it’s first and last detection time at each site, length of time between first and last detection of each site, and total number of detections at each site.</p>
</div>
<div id="arguments-13" class="section level3">
<h3><span class="header-section-number">C.15.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. “alltags”, or a data.frame of detection data including at a minimum variables for <code>motusTagID</code>, <code>fullID</code>, <code>recvDepName</code>, <code>ts</code><br />
<strong><code>motusTagID</code></strong> variable consisting of a motus tag ID<br />
<strong><code>fullID</code></strong> variable consisting of a tag fullID<br />
<strong><code>recvDepName</code></strong> variable consisting of receiver deployment name<br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to <code>ts</code></p>
</div>
<div id="example-14" class="section level3">
<h3><span class="header-section-number">C.15.3</span> Example</h3>
<p>Create tag summaries for only select tags with time in default hours with data.frame <code>df.alltags</code></p>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="appendixC.html#cb275-1"></a>tag_site_summary &lt;-<span class="st"> </span><span class="kw">tagSumSite</span>(<span class="kw">filter</span>(df.alltags, </span>
<span id="cb275-2"><a href="appendixC.html#cb275-2"></a>                                      motusTagID <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">16047</span>, <span class="dv">16037</span>, <span class="dv">16039</span>)))</span>
<span id="cb275-3"><a href="appendixC.html#cb275-3"></a><span class="kw">head</span>(tag_site_summary)</span></code></pre></div>
<pre><code>##                               fullID                     recvDeployName
## 1 SampleData#179:6.1@166.38(M.16037)                    BULL\n37.1, -76
## 2 SampleData#179:6.1@166.38(M.16037) Comeau (Marshalltown)\n44.6, -65.8
## 3 SampleData#179:6.1@166.38(M.16037)           Hillman_Marsh\n42, -82.5
## 4 SampleData#179:6.1@166.38(M.16037)             Netitishi\n51.3, -80.1
## 5 SampleData#179:6.1@166.38(M.16037)           North Bluff\n51.5, -80.4
## 6 SampleData#179:6.1@166.38(M.16037)                  NP mobile\nNA, NA
##              first_ts             last_ts             tot_ts num_det
## 1 2015-09-14 15:55:48 2015-09-14 15:56:49   0.01693000 hours       2
## 2 2015-09-08 18:29:57 2015-09-08 18:37:16   0.12192881 hours       6
## 3 2015-11-02 13:20:47 2015-11-02 13:21:42   0.01525056 hours       2
## 4 2015-08-30 01:36:08 2015-09-08 01:10:13 215.56819269 hours    1166
## 5 2015-08-23 15:13:57 2015-08-28 16:40:18 121.43902892 hours      26
## 6 2015-08-17 17:01:38 2015-08-17 17:02:39   0.01693344 hours      11</code></pre>
</div>
</div>
<div id="timeToSunriset" class="section level2">
<h2><span class="header-section-number">C.16</span> <code>timeToSunriset</code></h2>
<div id="description-15" class="section level3">
<h3><span class="header-section-number">C.16.1</span> Description</h3>
<p>Creates and adds variables for time to, and time from sunrise/sunset based on a variable of POSIXct dates/times data.frame must contain latitude, longitude, and a date/time variable</p>
</div>
<div id="arguments-14" class="section level3">
<h3><span class="header-section-number">C.16.2</span> Arguments</h3>
<p><strong><code>data</code></strong> a selected table from .motus data, e.g. <code>alltags</code>, or a data.frame of detection data including at a minimum variables for date/time, latitude, and longitude<br />
<strong><code>lat</code></strong> variable with latitude values, defaults to <code>recvDeployLat</code><br />
<strong><code>lon</code></strong> variable with longitude values, defaults to <code>recvDeployLon</code><br />
<strong><code>ts</code></strong> variable for a date/time object as numeric or POSIXct, defaults to <code>ts</code><br />
<strong><code>units</code></strong> units to display time difference, defaults to “hours”, options include “secs”, “mins”, “hours”, “days”, “weeks”</p>
</div>
<div id="example-15" class="section level3">
<h3><span class="header-section-number">C.16.3</span> Example</h3>
<p>Get sunrise and sunset information with units in minutes using tbl file <code>tbl.alltags</code></p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="appendixC.html#cb277-1"></a>sunrise &lt;-<span class="st"> </span><span class="kw">timeToSunriset</span>(tbl.alltags, <span class="dt">units =</span> <span class="st">&quot;mins&quot;</span>)</span>
<span id="cb277-2"><a href="appendixC.html#cb277-2"></a><span class="kw">head</span>(sunrise)</span></code></pre></div>
<pre><code>##    hitID runID batchID                  ts tsCorrected sig sigsd noise freq
## 1  45107  8886      53 2015-10-26 11:19:49  1445858390  52     0   -96    4
## 2  45108  8886      53 2015-10-26 11:20:28  1445858429  54     0   -96    4
## 3  45109  8886      53 2015-10-26 11:21:17  1445858477  55     0   -96    4
## 4  45110  8886      53 2015-10-26 11:21:55  1445858516  52     0   -96    4
## 5  45111  8886      53 2015-10-26 11:22:44  1445858564  49     0   -96    4
## 6 199885 23305      64 2015-10-26 11:12:04  1445857924  33     0   -96    4
##   freqsd  slop burstSlop done motusTagID ambigID port runLen bootnum tagProjID
## 1      0 1e-04    0.0000    1      16047      NA    3      5      11       176
## 2      0 1e-04   -0.0021    1      16047      NA    3      5      11       176
## 3      0 1e-04    0.0001    1      16047      NA    3      5      11       176
## 4      0 1e-04   -0.0010    1      16047      NA    3      5      11       176
## 5      0 1e-04    0.0001    1      16047      NA    3      5      11       176
## 6      0 1e-04    0.0000    1      16047      NA    1     11       4       176
##   mfgID tagType codeSet   mfg tagModel tagLifespan nomFreq  tagBI pulseLen
## 1   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 2   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 3   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 4   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 5   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
## 6   378      ID  Lotek4 Lotek NTQB-3-2          NA  166.38 9.6971      2.5
##   tagDeployID speciesID markerNumber markerType tagDeployStart tagDeployEnd
## 1        1839      4670    135268103 metal band     1441908000   1457632800
## 2        1839      4670    135268103 metal band     1441908000   1457632800
## 3        1839      4670    135268103 metal band     1441908000   1457632800
## 4        1839      4670    135268103 metal band     1441908000   1457632800
## 5        1839      4670    135268103 metal band     1441908000   1457632800
## 6        1839      4670    135268103 metal band     1441908000   1457632800
##   tagDepLat tagDepLon tagDepAlt
## 1   51.4839    -80.45        NA
## 2   51.4839    -80.45        NA
## 3   51.4839    -80.45        NA
## 4   51.4839    -80.45        NA
## 5   51.4839    -80.45        NA
## 6   51.4839    -80.45        NA
##                                                                                                                                                                                                tagDepComments
## 1 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 2 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 3 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 4 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 5 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
## 6 {&quot;ageID&quot;:&quot;HY&quot;,&quot;bill&quot;:36.5,&quot;blood&quot;:&quot;Y&quot;,&quot;country&quot;:&quot;Canada&quot;,&quot;culmen&quot;:36.5,&quot;fatScore&quot;:3,&quot;locationID&quot;:&quot;NorthPoint_net&quot;,&quot;province&quot;:&quot;Ontario&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:33.3,&quot;weight&quot;:137.8,&quot;wing&quot;:162,&quot;comments&quot;:null}
##   tagDeployTest                             fullID deviceID recvDeployID
## 1            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 2            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 3            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 4            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 5            NA SampleData#378:9.7@166.38(M.16047)      486         2510
## 6            NA SampleData#378:9.7@166.38(M.16047)      515         2512
##   recvDeployLat recvDeployLon recvDeployAlt      recv recvDeployName
## 1      42.60699     -72.71657            NA Lotek-159      Shelburne
## 2      42.60699     -72.71657            NA Lotek-159      Shelburne
## 3      42.60699     -72.71657            NA Lotek-159      Shelburne
## 4      42.60699     -72.71657            NA Lotek-159      Shelburne
## 5      42.60699     -72.71657            NA Lotek-159      Shelburne
## 6      42.68067     -72.47392            NA Lotek-164  BennettMeadow
##   recvSiteName isRecvMobile recvProjID recvUtcOffset antType antBearing
## 1         &lt;NA&gt;            0         74            NA  yagi-9        127
## 2         &lt;NA&gt;            0         74            NA  yagi-9        127
## 3         &lt;NA&gt;            0         74            NA  yagi-9        127
## 4         &lt;NA&gt;            0         74            NA  yagi-9        127
## 5         &lt;NA&gt;            0         74            NA  yagi-9        127
## 6         &lt;NA&gt;            0         74            NA  yagi-9        243
##   antHeight speciesEN          speciesFR       speciesSci speciesGroup
## 1        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 2        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 3        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 4        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 5        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
## 6        NA  Red Knot Bécasseau maubèche Calidris canutus        BIRDS
##   tagProjName recvProjName gpsLat gpsLon gpsAlt             sunrise
## 1  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 2  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 3  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 4  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 5  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:16:49
## 6  SampleData         &lt;NA&gt;     NA     NA     NA 2015-10-26 11:15:58
##                sunset ts_to_set ts_since_set  ts_to_rise ts_since_rise
## 1 2015-10-26 21:52:11  632.3533     806.2056 1438.215974      3.013824
## 2 2015-10-26 21:52:11  631.7104     806.8485 1437.573097      3.656701
## 3 2015-10-26 21:52:11  630.9109     807.6480 1436.773577      4.456221
## 4 2015-10-26 21:52:11  630.2513     808.3076 1436.113997      5.115801
## 5 2015-10-26 21:52:11  629.4518     809.1071 1435.314477      5.915321
## 6 2015-10-26 21:51:06  639.0310     799.5242    3.896393   1437.332308</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="appendixB.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendixD.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["MotusRBook.pdf"],
"toc": {
"collapse": "section"
},
"search": true
});
});
</script>

</body>

</html>
